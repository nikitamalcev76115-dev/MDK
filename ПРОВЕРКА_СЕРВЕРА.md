# Инструкция по запуску сервера

## Проблема: "Failed to fetch" при регистрации

Эта ошибка означает, что сервер не запущен или страница открыта неправильно.

## Решение:

### 1. Запустите сервер FastAPI

Откройте терминал (PowerShell или CMD) в папке проекта и выполните:

```bash
cd "C:\Users\nikit\OneDrive\Документы\сайт"
uvicorn main:app --reload
```

Вы должны увидеть сообщение:
```
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

### 2. Откройте страницу через сервер

**ВАЖНО:** Не открывайте HTML файл напрямую (file://)!

Вместо этого откройте в браузере:
```
http://localhost:8000/
```
или
```
http://127.0.0.1:8000/
```

### 3. Проверьте подключение к базе данных

Убедитесь, что:
- MySQL запущен
- База данных `rukapomoshchi` создана
- Настройки в `.env` файле правильные

### 4. Альтернативный способ (если сервер не запускается)

Если возникают проблемы с запуском сервера, используйте PHP версию:

1. Откройте `index_php.html` через веб-сервер с PHP
2. Убедитесь, что MySQL запущен
3. Запустите `init_db.php` для создания базы данных

## Проверка работы сервера

После запуска сервера проверьте:

1. Откройте в браузере: http://localhost:8000/docs
   - Должна открыться документация Swagger

2. Откройте: http://localhost:8000/
   - Должна открыться главная страница

3. Попробуйте зарегистрироваться
   - Если ошибка исчезла, значит все работает!

## Частые проблемы:

### Порт 8000 занят
Используйте другой порт:
```bash
uvicorn main:app --reload --port 8001
```
И обновите BASE_URL в коде на `http://localhost:8001`

### Ошибка подключения к MySQL
Проверьте настройки в `.env` или `app/core/config.py`:
- DB_HOST
- DB_NAME
- DB_USER
- DB_PASS

### Роли не созданы
При первом запуске роли создаются автоматически. Если этого не произошло, запустите `init_db.php` или создайте роли вручную в MySQL.

